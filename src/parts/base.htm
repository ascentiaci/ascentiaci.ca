<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{{ title }} | Ascentia Career Institute</title>

    <link rel="stylesheet" href="scss/styles.scss" />
    <script type="module" src="js/main.js"></script>
  </head>
  <body>
  
    <div id="top">
      <extends src="parts/nav.htm"></extends>

      <header class="border-0 mb-0">
        <img
          src="/src/images/{{ headerimg }}?as=webp"
          alt=""
          style="max-height: 225px; width: 99vw"
        />
        <br />

        <h2 class="text-center py-2 bg-body-secondary">
          <block name="pageTitle">Welcome</block>
        </h2>
      </header>
      <main class="mt-0">
        <div class="container py-4 px-2 mx-auto">
          <div class="text-center">
            <block name="content">
              <p>Default content</p>
            </block>
          </div>
        </div>
      </main>
    </div>
    <footer class="px-5 pt-2">
      <div class="row">
        <div class="col-12 col-md-3">

          <a href="/src/index.html">
            <img
              src="/src/images/primary-logo-name-no-tagline-white-text.png?as=webp&width=200"
            />
            <p class="pl-3">
              <a
                href="https://www.google.com/maps/dir/?api=1&destination=1690%20Water%20St,%20Kelowna,%20BC"
                >Unit 200 - 1690 Water St.,
                <br />
                Kelowna, BC V1Y 8T8
              </a>
    
            </p>
        
            <p class="pl-3">
              <a href="tel:12509998733">1-250-999-8733</a>
            </p>
          </a>
            <p class="pl-3">
              <a href="mailto:info@ascentiaci.ca">info@ascentiaci.ca</a>
            </p>
          </a>
        </div>
        <div class="col-1 col-md-3">
          <h5 style="text-align: center;">Policies</h5> 
          <p><extends src="parts/policiesembed.htm">
            
          </extends></p>
        </div>
      </div>


      <center class="pb-3">
        <i class="fa fa-copyright" aria-hidden="true"></i> {{ new Date().getFullYear(); }} Ascentia Career Institute
      </center>
    </footer>
    <div class="modal fade" tabindex="-1" id="leadForm1" aria-labelledby="leadForm1Label" aria-hidden="true">
      <div class="modal-dialog">
          <div class="modal-content">
              <div class="modal-header">
                  <h5 class="modal-title" id="leadForm1Label">Request Info</h5>
                  <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                  <!-- Lead Form for [sc name="sn"][/sc] with Cloudflare Turnstile -->
<form id="leadForm" action="https://marketing-n8n.hqt7vl.easypanel.host/webhook-test/6c342149-4461-44c7-a1c8-d0201db5799a" method="POST" onsubmit="return validateForm();">
  <h2>Request Information</h2>
  
  <label for="firstName">First Name:</label>
  <input type="text" id="firstName" name="firstName" placeholder="Your first name" required>
  
  <label for="lastName">Last Name:</label>
  <input type="text" id="lastName" name="lastName" placeholder="Your last name" required>
  
  <label for="email">Email:</label>
  <input type="email" id="email" name="email" placeholder="Your email address" required>
  
  <label for="phone">Phone Number:</label>
  <input type="tel" id="phone" name="phone" placeholder="Your phone number" required>
  
  <label for="programInterest">Program of Interest:</label>
  <select id="programInterest" name="programInterest" required>
      <option value="">Select a Program</option>
      <option value="business">Business Administration</option>
      <option value="it">Information Technology</option>
      <option value="healthcare">Healthcare Administration</option>
      <option value="trades">Skilled Trades</option>
      <option value="design">Graphic Design</option>
  </select>
  
  <label for="comments">Additional Comments:</label>
  <textarea id="comments" name="comments" placeholder="Any additional information or questions"></textarea>
  
  <!-- Cloudflare Turnstile Widget -->
  <div class="cf-turnstile" data-sitekey="0x4AAAAAAAYDjhZNjYSI8Zc8"></div>
    
  <input type="submit" value="Submit">
  
  <div id="feedbackMessage" style="color: red; display: none;">Please complete the CAPTCHA verification.</div>
</form>
<script src="https://challenges.cloudflare.com/turnstile/v0/api.js"></script>

<script>
  
  document.getElementById('leadForm').addEventListener('submit', function(event) {
      var responseField = document.getElementById('cf-turnstile-response');
      responseField.value = ''; // Clear previous response value
      
      // Validate Turnstile response
      window.cfTurnstile.onSubmit(event, function(token) {
          if (token) {
              responseField.value = token; // Set the token in the hidden field
              document.getElementById('leadForm').submit(); // Submit the form
          } else {
              // Provide feedback to the user
              document.getElementById('feedbackMessage').style.display = 'block';
              event.preventDefault(); // Prevent form submission
          }
      });
  });

  function validateForm() {
      var tokenValue = document.getElementById('cf-turnstile-response').value;
      if (!tokenValue) {
          document.getElementById('feedbackMessage').style.display = 'block';
          return false; // Prevent form submission if the token is empty
      }
      return true;
  }
</script>

<!-- Styling for the form (same as before) -->
<style>
  #leadForm {
      max-width: 500px;
      margin: 0 auto;
      padding: 20px;
      border: 1px solid #ccc;
      border-radius: 10px;
      background: #f9f9f9;
  }
  #leadForm h2 {
      text-align: center;
      color: #333;
  }
  #leadForm label {
      margin-top: 10px;
      display: block;
      color: #666;
  }
  #leadForm input[type="text"],
  #leadForm input[type="email"],
  #leadForm input[type="tel"],
  #leadForm select,
  #leadForm textarea {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
      margin-bottom: 15px;
      border: 1px solid #ddd;
      border-radius: 4px;
      box-sizing: border-box;
  }
  #leadForm input[type="submit"] {
      width: 100%;
      background-color: #0056b3;
      color: white;
      padding: 10px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 1em;
  }
  #leadForm input[type="submit"]:hover {
      background-color: #004494;
  }
</style>

              </div>
          </div>
      </div>
      </div>    
  </body>
</html>
